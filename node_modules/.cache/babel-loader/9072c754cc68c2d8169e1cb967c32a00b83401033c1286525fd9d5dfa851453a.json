{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\natal\\\\Documents\\\\GitHub\\\\ProjecteFinal-AWUG-I\\\\src\\\\components\\\\SearchResults.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useFavorites } from \"../components/FavoritesContext\";\nimport { useCart } from \"../components/CartContext\";\nimport \"../components/SearchResults.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchResults() {\n  _s();\n  const [recipes, setRecipes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showLoginMessage, setShowLoginMessage] = useState(false);\n  const {\n    favorites,\n    addFavorite,\n    removeFavorite\n  } = useFavorites();\n  const {\n    cart,\n    addToCart,\n    removeFromCart\n  } = useCart();\n  const {\n    isAuthenticated,\n    loginWithRedirect\n  } = useAuth0();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const query = queryParams.get(\"query\") || \"\";\n  useEffect(() => {\n    var _location$state;\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.searchResults) {\n      setRecipes(location.state.searchResults);\n      setLoading(false);\n    } else {\n      fetchRecipes();\n    }\n  }, [query]);\n  const fetchRecipes = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(`https://api.spoonacular.com/recipes/complexSearch?query=${query}&addRecipeInformation=true&apiKey=540464a4610b4e4c9488d105323ad0af`);\n      const data = await response.json();\n      if (response.ok) {\n        setRecipes(data.results || []);\n      } else {\n        throw new Error(data.message || \"The recipes could not be loaded.\");\n      }\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRecipeClick = recipe => {\n    navigate(`/recipe/${recipe.id}`, {\n      state: {\n        fromSearchResults: true,\n        searchQuery: query,\n        searchResults: recipes\n      }\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading recipes...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: recipes.map(recipe => /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => handleRecipeClick(recipe),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: recipe.image,\n        alt: recipe.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: recipe.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, recipe.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchResults, \"bDEYtm97vlyoYXqxBxAOy0srmf8=\", false, function () {\n  return [useFavorites, useCart, useAuth0, useNavigate, useLocation];\n});\n_c = SearchResults;\nexport default SearchResults;\nvar _c;\n$RefreshReg$(_c, \"SearchResults\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","useAuth0","useFavorites","useCart","jsxDEV","_jsxDEV","SearchResults","_s","recipes","setRecipes","loading","setLoading","error","setError","showLoginMessage","setShowLoginMessage","favorites","addFavorite","removeFavorite","cart","addToCart","removeFromCart","isAuthenticated","loginWithRedirect","navigate","location","queryParams","URLSearchParams","search","query","get","_location$state","state","searchResults","fetchRecipes","response","fetch","data","json","ok","results","Error","message","handleRecipeClick","recipe","id","fromSearchResults","searchQuery","children","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","src","image","alt","title","_c","$RefreshReg$"],"sources":["C:/Users/natal/Documents/GitHub/ProjecteFinal-AWUG-I/src/components/SearchResults.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { useFavorites } from \"../components/FavoritesContext\";\r\nimport { useCart } from \"../components/CartContext\";\r\nimport \"../components/SearchResults.css\";\r\n\r\nfunction SearchResults() {\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showLoginMessage, setShowLoginMessage] = useState(false);\r\n\r\n  const { favorites, addFavorite, removeFavorite } = useFavorites();\r\n  const { cart, addToCart, removeFromCart } = useCart();\r\n  const { isAuthenticated, loginWithRedirect } = useAuth0();\r\n\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search);\r\n  const query = queryParams.get(\"query\") || \"\";\r\n\r\n  useEffect(() => {\r\n    if (location.state?.searchResults) {\r\n      setRecipes(location.state.searchResults);\r\n      setLoading(false);\r\n    } else {\r\n      fetchRecipes();\r\n    }\r\n  }, [query]);\r\n\r\n  const fetchRecipes = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(\r\n        `https://api.spoonacular.com/recipes/complexSearch?query=${query}&addRecipeInformation=true&apiKey=540464a4610b4e4c9488d105323ad0af`\r\n      );\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setRecipes(data.results || []);\r\n      } else {\r\n        throw new Error(data.message || \"The recipes could not be loaded.\");\r\n      }\r\n    } catch (error) {\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRecipeClick = (recipe) => {\r\n    navigate(`/recipe/${recipe.id}`, {\r\n      state: {\r\n        fromSearchResults: true,\r\n        searchQuery: query,\r\n        searchResults: recipes,\r\n      },\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading recipes...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {recipes.map((recipe) => (\r\n        <div key={recipe.id} onClick={() => handleRecipeClick(recipe)}>\r\n          <img src={recipe.image} alt={recipe.title} />\r\n          <h3>{recipe.title}</h3>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchResults;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}