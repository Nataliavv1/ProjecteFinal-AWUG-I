{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\natal\\\\Documents\\\\GitHub\\\\ProjecteFinal-AWUG-I\\\\src\\\\components-home\\\\Home-Populars.js\",\n  _s = $RefreshSig$();\n// HomePopulars.js\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useFavorites } from \"../components/FavoritesContext\";\nimport { useCart } from \"../components/CartContext\";\nimport \"./HomePopulars.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePopulars() {\n  _s();\n  const [popularRecipes, setPopularRecipes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const {\n    favorites,\n    addFavorite,\n    removeFavorite\n  } = useFavorites();\n  const {\n    cart,\n    addToCart,\n    removeFromCart\n  } = useCart();\n  const {\n    isAuthenticated,\n    loginWithRedirect\n  } = useAuth0();\n  useEffect(() => {\n    const fetchPopularRecipes = async () => {\n      try {\n        const response = await fetch(\"https://api.spoonacular.com/recipes/random?number=6&apiKey=d0fba68ef5204602ac929844f28b7d5f\");\n        const data = await response.json();\n        if (response.ok) {\n          setPopularRecipes(data.recipes);\n        } else {\n          throw new Error(data.message || \"Error fetching recipes\");\n        }\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchPopularRecipes();\n  }, []);\n  const toggleSaveRecipe = recipe => {\n    if (!isAuthenticated) {\n      loginWithRedirect(); // Redirigir al login si no est치 autenticado\n      return;\n    }\n    if (favorites.some(fav => fav.id === recipe.id)) {\n      removeFavorite(recipe.id);\n    } else {\n      addFavorite(recipe);\n    }\n  };\n  const addToCartHandler = recipe => {\n    if (!isAuthenticated) {\n      loginWithRedirect(); // Redirigir al login si no est치 autenticado\n      return;\n    }\n    if (cart.some(item => item.id === recipe.id)) {\n      removeFromCart(recipe.id);\n    } else {\n      addToCart(recipe);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"home-populars\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Popular Recipes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipe-list\",\n      children: popularRecipes.map(recipe => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipe-card\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/recipe/${recipe.id}`,\n          className: \"recipe-link\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: recipe.image,\n            alt: recipe.title,\n            className: \"recipe-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"recipe-title\",\n            children: recipe.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recipe-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => toggleSaveRecipe(recipe),\n            children: favorites.some(fav => fav.id === recipe.id) ? \"Remove from Favorites\" : \"Add to Favorites\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => addToCartHandler(recipe),\n            children: cart.some(item => item.id === recipe.id) ? \"Remove from Cart\" : \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, recipe.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePopulars, \"Eh8Zw6P6i3uGSWYPDsJOddVv1ms=\", false, function () {\n  return [useFavorites, useCart, useAuth0];\n});\n_c = HomePopulars;\nexport default HomePopulars;\nvar _c;\n$RefreshReg$(_c, \"HomePopulars\");","map":{"version":3,"names":["React","useState","useEffect","Link","useAuth0","useFavorites","useCart","jsxDEV","_jsxDEV","HomePopulars","_s","popularRecipes","setPopularRecipes","loading","setLoading","error","setError","favorites","addFavorite","removeFavorite","cart","addToCart","removeFromCart","isAuthenticated","loginWithRedirect","fetchPopularRecipes","response","fetch","data","json","ok","recipes","Error","message","toggleSaveRecipe","recipe","some","fav","id","addToCartHandler","item","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","to","src","image","alt","title","onClick","_c","$RefreshReg$"],"sources":["C:/Users/natal/Documents/GitHub/ProjecteFinal-AWUG-I/src/components-home/Home-Populars.js"],"sourcesContent":["// HomePopulars.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { useFavorites } from \"../components/FavoritesContext\";\r\nimport { useCart } from \"../components/CartContext\";\r\nimport \"./HomePopulars.css\";\r\n\r\nfunction HomePopulars() {\r\n  const [popularRecipes, setPopularRecipes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { favorites, addFavorite, removeFavorite } = useFavorites();\r\n  const { cart, addToCart, removeFromCart } = useCart();\r\n  const { isAuthenticated, loginWithRedirect } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    const fetchPopularRecipes = async () => {\r\n      try {\r\n        const response = await fetch(\"https://api.spoonacular.com/recipes/random?number=6&apiKey=d0fba68ef5204602ac929844f28b7d5f\");\r\n        const data = await response.json();\r\n\r\n        if (response.ok) {\r\n          setPopularRecipes(data.recipes);\r\n        } else {\r\n          throw new Error(data.message || \"Error fetching recipes\");\r\n        }\r\n      } catch (error) {\r\n        setError(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPopularRecipes();\r\n  }, []);\r\n\r\n  const toggleSaveRecipe = (recipe) => {\r\n    if (!isAuthenticated) {\r\n      loginWithRedirect(); // Redirigir al login si no est치 autenticado\r\n      return;\r\n    }\r\n\r\n    if (favorites.some((fav) => fav.id === recipe.id)) {\r\n      removeFavorite(recipe.id);\r\n    } else {\r\n      addFavorite(recipe);\r\n    }\r\n  };\r\n\r\n  const addToCartHandler = (recipe) => {\r\n    if (!isAuthenticated) {\r\n      loginWithRedirect(); // Redirigir al login si no est치 autenticado\r\n      return;\r\n    }\r\n\r\n    if (cart.some((item) => item.id === recipe.id)) {\r\n      removeFromCart(recipe.id);\r\n    } else {\r\n      addToCart(recipe);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <section className=\"home-populars\">\r\n      <h2>Popular Recipes</h2>\r\n      <div className=\"recipe-list\">\r\n        {popularRecipes.map((recipe) => (\r\n          <div key={recipe.id} className=\"recipe-card\">\r\n            <Link to={`/recipe/${recipe.id}`} className=\"recipe-link\">\r\n              <img src={recipe.image} alt={recipe.title} className=\"recipe-image\" />\r\n              <h3 className=\"recipe-title\">{recipe.title}</h3>\r\n            </Link>\r\n\r\n            <div className=\"recipe-actions\">\r\n              <button onClick={() => toggleSaveRecipe(recipe)}>\r\n                {favorites.some((fav) => fav.id === recipe.id)\r\n                  ? \"Remove from Favorites\"\r\n                  : \"Add to Favorites\"}\r\n              </button>\r\n              <button onClick={() => addToCartHandler(recipe)}>\r\n                {cart.some((item) => item.id === recipe.id) ? \"Remove from Cart\" : \"Add to Cart\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default HomePopulars;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}